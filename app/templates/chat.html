{% extends 'base.html' %}
{% block title %}Chat - InstaClone{% endblock %}
{% block content %}
<h2>Chat Room</h2>
<div id="chat-box" class="border p-3 mb-2" style="height: 300px; overflow-y: scroll;"></div>
<input type="text" id="chat-message" class="form-control mb-2" placeholder="Type a message">
<button id="send-btn" class="btn btn-primary">Send</button>
<script>
  const socket = io();
  const sendBtn = document.getElementById('send-btn');
  const chatBox = document.getElementById('chat-box');

  sendBtn.onclick = () => {
    const msg = document.getElementById('chat-message').value;
    socket.emit('message', msg);
    document.getElementById('chat-message').value = '';
  };

  socket.on('message', msg => {
    const p = document.createElement('p');
    p.textContent = msg;
    chatBox.appendChild(p);
  });
</script>
{% endblock %}