<!-- templates/profile.html -->
{% extends 'base.html' %}

{% block title %}Profile - InstaClone{% endblock %}

{% block content %}
<h3>Your Profile</h3>
<div class="card p-4" style="max-width: 500px; margin: auto;">
  <div class="text-center">
    <img src="{{ url_for('static', filename='uploads/' + current_user.profile_pic) }}"
         alt="Profile Picture"
         class="rounded-circle mb-3"
         width="150" height="150"
         onerror="this.onerror=null; this.src='https://via.placeholder.com/150'">
  </div>
  <form action="/update_profile" method="POST" enctype="multipart/form-data">
    <div class="mb-3">
      <label for="username" class="form-label">Username</label>
      <input type="text" id="username" name="username" class="form-control"
             value="{{ current_user.username }}" required>
    </div>
    <div class="mb-3">
      <label for="bio" class="form-label">Bio</label>
      <textarea id="bio" name="bio" class="form-control"
                rows="3">{{ current_user.bio }}</textarea>
    </div>
    <div class="mb-3">
      <label for="profile_pic" class="form-label">Update Profile Picture</label>
      <input type="file" name="profile_pic" id="profile_pic" class="form-control">
    </div>
    <button type="submit" class="btn btn-primary w-100">Save Changes</button>
  </form>
</div>
{% endblock %}
